/*!CK:203006026!*//*1436767413,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["+O8Lu"]); }

__d("ChatTypeaheadEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ABANDONED_QUERY:"abandoned_query",NEW_QUERY:"new_query",RESULT_SELECTED:"result_selected"};},null);
__d("ChatQuietLinks",["Event","DOM","UserAgent_DEPRECATED","DataStore","Parent"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={},m={silenceLinks:function(q){n(q,this.removeEmptyHrefs.bind(this));},nukeLinks:function(q){n(q,this.removeAllHrefs.bind(this));},removeEmptyHrefs:function(q){o(q,function(r){return !r||r==='#';});},removeAllHrefs:function(q){o(q);}};function n(q,r){var s=!!i.chrome(),t=!!i.chrome()||i.ie()>=9||i.firefox()>=4;if(l[h.getID(q)])return;l[h.getID(q)]=true;if(!t)return;if(!s){r&&r(q);return;}g.listen(q,'mouseover',function u(v){var w=k.byTag(v.getTarget(),'a');if(w){var x=w.getAttribute('href');if(p(x)){j.set(w,'stashedHref',w.getAttribute('href'));w.removeAttribute('href');}}});g.listen(q,'mouseout',function u(v){var w=k.byTag(v.getTarget(),'a'),x=w&&j.remove(w,'stashedHref');if(p(x))w.setAttribute('href',x);});g.listen(q,'mousedown',function(u){if(!u.isDefaultRequested())return true;var v=k.byTag(u.getTarget(),'a'),w=v&&j.get(v,'stashedHref');if(p(w))v.setAttribute('href',w);});}function o(q,r){var s=h.scry(q,'a');if(r)s=s.filter(function(t){return r(t.getAttribute('href'));});s.forEach(function(t){t.removeAttribute('href');t.setAttribute('tabindex',0);});}function p(q){return q&&q!=='#';}e.exports=m;},null);
__d("ChatDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("ChatSidebarComposeLink.react",["ChatOpenTab","React","TooltipLink.react","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"ChatSidebarComposeLink",propTypes:{className:m.string.isRequired},componentDidMount:function(){g.listenOpenEmptyTab(h.findDOMNode(this),'sidebar');},render:function(){var o=k._("Neue Nachricht");return (h.createElement(i,{ajaxify:new j('/ajax/messaging/composer.php'),className:this.props.className,tooltip:o,rel:"dialog"}));}});e.exports=n;},null);
__d("ChatSidebarStore",["ChatDispatcher","ChatOptionsInitialData","ChatSidebarActions","FluxStore","performanceAbsoluteNow"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';for(var l in j)if(j.hasOwnProperty(l))n[l]=j[l];var m=j===null?null:j.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=j;function n(){j.call(this,g);this.$ChatSidebarStore0={initialized:false,initTime:k(),loaded:false,visible:true,enabled:!!h.sidebar_mode};this.$ChatSidebarStore1={};}n.prototype.__onDispatch=function(o){var p=o.type;this.$ChatSidebarStore1=Object.assign({},this.$ChatSidebarStore0);switch(p){case i.Types.INIT:if(!this.$ChatSidebarStore1.initialized)this.$ChatSidebarStore0.initTime=k();this.$ChatSidebarStore0.initialized=true;break;case i.Types.HIDE:this.$ChatSidebarStore0.visible=false;break;case i.Types.LOADED:this.$ChatSidebarStore0.loaded=true;break;case i.Types.SHOW:this.$ChatSidebarStore0.visible=true;break;case i.Types.SET_ENABLED:this.$ChatSidebarStore0.enabled=o.enabled;break;case i.Types.TOGGLE:this.$ChatSidebarStore0.enabled=!this.$ChatSidebarStore0.enabled;break;}for(var q in this.$ChatSidebarStore0)if(this.$ChatSidebarStore0.hasOwnProperty(q))if(this.$ChatSidebarStore0[q]!==this.$ChatSidebarStore1[q]){this.__emitChange();break;}};n.prototype.getPrevState=function(){return this.$ChatSidebarStore1;};n.prototype.getState=function(){return this.$ChatSidebarStore0;};n.prototype.isInitialized=function(){return this.$ChatSidebarStore0.initialized;};n.prototype.isLoaded=function(){return this.$ChatSidebarStore0.loaded;};n.prototype.isHidden=function(){return !this.$ChatSidebarStore0.visible;};n.prototype.isEnabled=function(){return this.$ChatSidebarStore0.enabled;};n.prototype.getInitTime=function(){return this.$ChatSidebarStore0.initTime;};e.exports=new n();},null);
__d("ChatSidebarVisibility",["ChatConfig","ChatSidebarStore","DOMDimensions","OrderedFriendsList"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.get('sidebar.min_friends'),l=g.get('sidebar.minimum_width'),m=g.get('minisidebar.minimum_width'),n={getViewport:function(){return i.getViewportWithoutScrollbarDimensions();},hasLowFriendCount:function(){return j.getActiveList().length<=k;},isViewportCapable:function(){var o=n.getViewport();return o.width>l;},shouldShowSidebar:function(){return n.isViewportCapable()&&!h.isHidden()&&!n.hasLowFriendCount();},isViewportCapableForMiniSidebar:function(){var o=n.getViewport();return o.width>m&&o.width<=l;},shouldShowMiniSidebar:function(){return n.isViewportCapableForMiniSidebar()&&!h.isHidden()&&!n.hasLowFriendCount();}};e.exports=n;},null);
__d("ReactComponentRenderer",["React","Object.assign","warning"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k,l){this.klass=k;this.container=l;this.props={};this.component=null;}j.prototype.replaceProps=function(k,l){this.props={};this.setProps(k,l);};j.prototype.setProps=function(k,l){if(this.klass==null)return;h(this.props,k);var m=g.createElement(this.klass,this.props);this.component=g.render(m,this.container,l);};j.prototype.unmount=function(){g.unmountComponentAtNode(this.container);this.klass=null;};e.exports=j;},null);
__d("SidebarFitWindowHeight",["Arbiter","ArbiterMixin","Event","Style","SubscriptionsHandler","UITinyViewportAction","Vector","mixin","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=n(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t){"use strict";this.$SidebarFitWindowHeight0=t;this.onViewportUpdate();l.subscribe('change',this.onViewportUpdate.bind(this));}s.prototype.onViewportUpdate=function(){"use strict";if(l.isTiny()){this.onScroll();var t=this.onScroll.bind(this);this.$SidebarFitWindowHeight1=new k();this.$SidebarFitWindowHeight1.addSubscriptions(i.listen(window,'scroll',t),g.subscribe('dom-scroll',t));}else{if(this.$SidebarFitWindowHeight2!==0){j.set(this.$SidebarFitWindowHeight0,'margin-top','0');this.$SidebarFitWindowHeight2=0;}this.$SidebarFitWindowHeight1&&this.$SidebarFitWindowHeight1.release();}};s.prototype.onScroll=function(){"use strict";o(this.updateScrollPosition.bind(this),this.resizeSidebar.bind(this),'SidebarFitWindowHeight/scroll');};s.prototype.updateScrollPosition=function(){"use strict";this.$SidebarFitWindowHeight3=m.getScrollPosition().y;this.$SidebarFitWindowHeight4||(this.$SidebarFitWindowHeight4=this.$SidebarFitWindowHeight0.offsetHeight);};s.prototype.resizeSidebar=function(){"use strict";var t=-Math.max(Math.min(this.$SidebarFitWindowHeight3,this.$SidebarFitWindowHeight4),0);j.set(this.$SidebarFitWindowHeight0,'margin-top',t+'px');if(t!=this.$SidebarFitWindowHeight2){this.$SidebarFitWindowHeight2=t;this.inform('resized',t);}};s.prototype.getOffset=function(){"use strict";return this.$SidebarFitWindowHeight2;};e.exports=s;},null);
__d("ChatSidebar",["Arbiter","ArbiterMixin","AsyncRequest","BanzaiODS","Bootloader","ChatConfig","ChatImpressionLogger","ChatSidebarActions","ChatSidebarComposeLink.react","ChatSidebarStore","ChatSidebarVisibility","CSS","DOM","DOMDimensions","Event","JSLogger","LitestandClassicPlaceHolders","MercuryConfig","Parent","PresencePrivacy","React","ReactComponentRenderer","Run","ScrollableArea","SidebarFitWindowHeight","Style","ViewportBounds","createArrayFromMixed","csx","cx","debounce","emptyFunction","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){b.__markCompiled&&b.__markCompiled();var na='chat_sidebar_visibility',oa,pa,qa=false,ra=false,sa,ta,ua,va,wa,xa,ya,za,ab=null,bb,cb=v.create('chat_sidebar');j.setEntitySample(na,.0001);function db(){r.removeClass(document.documentElement,'sidebarMode');if(!p.isInitialized()||(!nb.isVisible()&&!ra)){g.inform('reflow');ga.inform('change');return;}qa=false;ra=false;ab=null;xa.hide();za.getCore().reset();r.hide(va);r.hide(ta);r.hide(ua);r.removeClass(document.documentElement,'miniSidebar');r.removeClass(va,"_51xq");sa&&sa.setProps({shown:false},function(){return jb(false);});cb.log('minisidebar_hide');g.inform('sidebar/hide',nb);g.inform('reflow');ga.inform('change');}function eb(){var ob=q.shouldShowSidebar(),pb=q.shouldShowMiniSidebar();if(p.isEnabled()&&(ob||pb)){if(ob){hb();ib();}else kb();}else db();if(!p.isInitialized()){mb();n.init();}ab=null;}function fb(){if(za&&nb.isVisible())za.getCore().getElement().focus();}function gb(ob){var pb=q.getViewport().height;ob.forEach(function(qb){if(qb&&qb!==oa)pb-=t.getElementDimensions(qb).height;});if(bb)pb-=bb.getOffset();if(ya)pb-=t.getElementDimensions(ya).height;return Math.max(0,pb);}function hb(){if(nb.isVisible())return;r.hide(ta);r.show(ua);r.removeClass(document.documentElement,'miniSidebar');r.removeClass(va,"_51xq");sa&&sa.setProps({shown:false},function(){return jb(false);});qa=true;ra=false;ab=null;r.show(va);r.addClass(document.documentElement,'sidebarMode');xa.show();cb.log('sidebar_show');g.inform('sidebar/show',nb);w.destroy('sidebar');ga.inform('change');}function ib(){var ob=gb(ha(ua.childNodes)),pb=xa.getItemHeight(),qb=8,rb=Math.floor((ob-qb)/pb);fa.set(oa,'height',ob+'px');xa.setNumTopFriends(rb);if(x.ScrollableSidebarTypeaheadGK){za.getView().setMaxHeight(ob);}else{var sb=Math.floor((ob-qb)/pb);sb=(sb-2)>0?sb-2:0;za.getData().setMaxResults(sb);}g.inform('sidebar/resized',nb);g.inform('reflow');}function jb(ob){if(va===null)return;r.conditionClass(va,"_2e4g",ob);}function kb(){r.hide(ua);r.show(ta);r.show(va);r.addClass(document.documentElement,'sidebarMode');r.addClass(document.documentElement,'miniSidebar');r.addClass(va,"_51xq");var ob=gb([]);if(!sa){k.loadModules(["ChatMiniSidebar.react","ChatSearchSource"],function(pb,qb){if(!pa)pa=new qb({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});sa=new ba(pb,ta);sa.setProps({dataSource:pa,height:ob,maxEntries:50,onClickSearch:jb,onToggleSidebar:nb.toggle,shown:true});});}else sa.setProps({height:ob,shown:true});qa=false;ra=true;w.destroy('sidebar');cb.log('minisidebar_show');g.inform('minisidebar/show',nb);g.inform('reflow');ga.inform('change');}function lb(){new i('/ajax/chat/settings.php').setHandler(la).setErrorHandler(la).setData({sidebar_mode:p.isEnabled()}).setAllowCrossPageTransition(true).send();}function mb(){var ob=true;if(!p.isEnabled()){cb.log('state_not_enabled');ob=false;}if(!q.isViewportCapable())if(!q.isViewportCapableForMiniSidebar()){cb.log('state_not_shown_viewport_mini');ob=false;}if(ob)j.bumpEntityKey(na,'state_viewport_can_show');if(p.isHidden()){cb.log('state_not_shown_hidden');ob=false;}if(q.hasLowFriendCount()){cb.log('state_not_shown_num_friends');ob=false;}var pb=ob?'state_shown':'state_not_shown';cb.log(pb);j.bumpEntityKey(na,pb);}var nb={init:function(ob,pb,qb,rb){nb.init=la;n.loaded();va=ob;xa=pb;za=qb;wa=rb;oa=s.find(ob,'div.fbChatSidebarBody');ta=s.find(ob,"._51x-");ua=s.find(ob,"._51x_");ya=s.find(ob,"._5qqe");var sb=s.find(ob,"._x1u");if(sb)aa.render(aa.createElement(o,{className:"_3a-4 _5q85"}),sb);if(l.get('sidebar_react_dropdown',false)){var tb=s.find(ob,"._1ltf");if(tb)ca.onAfterLoad(function(){k.loadModules(["ChatSidebarDropdown.react"],function(ub){aa.render(aa.createElement(ub,{isNormalSidebar:true,onToggleSidebar:function(){return n.toggle();}}),tb);});});}u.listen(window,'resize',eb);ca.onAfterLoad(function(){k.loadModules(["ChatSidebarSheet"],function(ub){var vb=new ub(ob);vb.subscribe('updated',eb);});});xa.setScrollContainer(y.byClass(xa.getRoot(),'uiScrollableAreaWrap'));xa.subscribe(['render','show','hide'],ka(function(ub){var vb=da.getInstance(xa.getRoot());vb&&vb.adjustGripper();}));g.subscribe('chat/option-changed',function(ub,vb){if(vb.name==='hide_groups')eb();});g.subscribe(['AppsDivebar/show-apps','AppsDivebar/hide-apps'],eb);qb.getCore().subscribe('sidebar/typeahead/active',nb.updateOnActiveTypeahead);qb.subscribe('reset',function(){if(!qb.getCore().getValue()&&!xa.isVisible())nb.updateOnActiveTypeahead(null,false);});g.subscribeOnce('buddylist-nub/initialized',function(ub,vb){u.listen(vb.getButton(),'click',function(event){var wb=p.isHidden();n.show();n.enable();var xb=q.shouldShowSidebar()||q.shouldShowMiniSidebar();if(wb&&!xb)n.hide();return !xb;});});z.subscribe('privacy-user-presence-changed',eb);eb();m.init(xa);ga.addPersistentRight(nb.getVisibleWidth);nb.inform('sidebar/initialized',nb,g.BEHAVIOR_PERSISTENT);g.inform('sidebar/initialized',nb,g.BEHAVIOR_PERSISTENT);bb=new ea(ya);bb.subscribe('resized',eb);p.addListener(function(){var ub=p.getState(),vb=p.getPrevState();if(ub.enabled!==vb.enabled){if(ub.enabled){eb();setTimeout(fb,0);}else db();lb();}});},updateOnActiveTypeahead:function(ob,pb){if(!qa)return;if(pb){xa.hide();}else{xa.show();eb();}},ensureLoaded:function(){if(!p.isEnabled())return;if(p.isLoaded())return;if(ma('pagelet_sidebar'))return;d(['UIPagelet'],function(ob){var pb=s.create('div',{id:'pagelet_sidebar'});s.appendContent(document.body,pb);ob.loadFromEndpoint('SidebarPagelet','pagelet_sidebar');});n.loaded();},hide:function(){if(p.isHidden())return;n.hide();db();},unhide:function(){if(!p.isHidden())return;n.show();eb();},getVisibleWidth:function(){if((!qa&&!ra)||!va)return 0;if(ab===null){ab=va.offsetWidth;if(ra)ab=206;}return ab;},isVisible:function(){return qa;},resize:eb,toggle:function(){n.toggle();}};Object.assign(nb,h);e.exports=nb;},null);
__d("ChatTypeaheadBehavior",["BanzaiLogger","ChatOpenTab","ChatTypeaheadEvent","CSS","MercuryTypeaheadConstants","Parent","Rect","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();function o(q,r){var s=l.byClass(q,"_4oes");if(s)j.conditionClass(s,"_5q83",r);}function p(q){"use strict";this._typeahead=q;this._loggedQuery=false;}p.prototype.enable=function(){"use strict";var q=this._typeahead;this._subscriptions=[q.subscribe('focus',function(){this._loggedQuery=false;q.getData().refreshData();o(q.getElement(),true);}.bind(this)),q.subscribe('blur',function(r){if(this._loggedQuery)g.log('ChatTypeaheadLoggerConfig',{event:i.ABANDONED_QUERY,max_results:q.getData().getMaxResults(),num_friend_results:q.getView().results.filter(function(s){return s.render_type===k.FRIEND_TYPE;}).length,query:q.getCore().value});q.getCore().reset();o(q.getElement(),false);this._loggedQuery=false;}.bind(this)),q.subscribe('respond',function(r,s){if(!this._loggedQuery&&q.getCore().getValue().length>0){g.log('ChatTypeaheadLoggerConfig',{event:i.NEW_QUERY});this._loggedQuery=true;}if(s.value&&s.value===q.getCore().getValue()){if(!s.results.length){var t=s.value.toLowerCase(),u=q.getData().getQueryCache();if(!s.isAsync&&!u.hasOwnProperty(t))return;q.getView().showNoResults();}j.addClass(q.getElement(),'hasValue');}}.bind(this)),q.subscribe('reset',function(){j.removeClass(q.getElement(),'hasValue');}),q.subscribe('select',function(r,s){var t=s.selected.uid;if(s.selected.mercury_thread&&!s.selected.mercury_thread.is_canonical)t=s.selected.mercury_thread.thread_fbid;q.getView().hide();g.log('ChatTypeaheadLoggerConfig',{event:i.RESULT_SELECTED,max_results:q.getData().getMaxResults(),result_type:s.selected.render_type});this._loggedQuery=false;h.openTabByType(t,s.selected.type,'typeahead');}.bind(this)),q.subscribe('highlight',function(r,s){if(s.index>=0){var t=q.getView().getItems()[s.index];if(t){var u=new m(t),v=t.offsetParent,w=u.boundWithin(new m(v)).getPositionVector();u.getPositionVector().sub(w).scrollElementBy(v);}}})];};p.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(q){this._typeahead.unsubscribe(q);},this);this._subscriptions=null;};Object.assign(p.prototype,{_subscriptions:null});e.exports=p;},null);
__d("WebMessengerEvents",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=Object.assign(new g(),{MASTER_DOM_CHANGED:'master-dom-changed',DETAIL_DOM_CHANGED:'detail-dom-changed',FOCUS_COMPOSER:'focus-composer',FOCUS_SEARCH:'focus-search',FOCUS_AND_SELECT_SEARCH:'focus-and-select-search',STICKER_CLICKED:'sticker-clicked',SUBMIT_REPLY:'submit-reply',UPDATE_SELECTION:'update-selection',masterDOMChanged:function(){this.inform(h.MASTER_DOM_CHANGED);},detailDOMChanged:function(){this.inform(h.DETAIL_DOM_CHANGED);},focusComposer:function(){this.inform(h.FOCUS_COMPOSER);},focusSearch:function(){this.inform(h.FOCUS_SEARCH);},focusAndSelectSearch:function(){this.inform(h.FOCUS_AND_SELECT_SEARCH);},updateSelection:function(i){this.inform(h.UPDATE_SELECTION,i);},stickerClicked:function(i,j){this.inform(h.STICKER_CLICKED,{packID:i,stickerID:j});},submitReply:function(){this.inform(h.SUBMIT_REPLY);}});e.exports=h;},null);
__d("WebMessengerSubscriptionsHandler",["SubscriptionsHandler"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=new g('webmessenger');e.exports=h;},null);
__d("isWebMessengerURI",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return (/^(\/messages)/).test(h.getPath());}e.exports=g;},null);
__d("WebMessengerWidthControl",["Arbiter","BlueBar","CSS","CSSClassTransition","DOMDimensions","Event","Style","URI","ViewportBounds","WebMessengerEvents","WebMessengerSubscriptionsHandler","$","cx","isWebMessengerURI","requestAnimationFrame","setTimeoutAcrossTransitions","shield","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();var y=205,z=981,aa=257,ba=18,ca=848,da=724,ea=.57,fa=56,ga,ha,ia;function ja(oa,pa,qa){this.masterChanged=oa;this.detailChaned=pa;q.addSubscriptions(l.listen(window,'resize',x(w(ka,this,this),100)),g.subscribe(['sidebar/initialized','sidebar/show','sidebar/hide','minisidebar/show'],w(ka,this,this),g.SUBSCRIBE_NEW));var ra=na()?fa:0;if(qa)ra=y;this._width=na()?0:ca;ia=true;ka(this,ra);}function ka(oa,pa){var qa=o.getRight()+o.getLeft();qa=qa||pa||0;var ra=k.getViewportWithoutScrollbarDimensions().width-qa,sa=Math.round(Math.max(0,ra/2-z/2));ra=z+sa-aa;ra-=ba;ra=Math.max(da,Math.min(ca,ra));if(!isNaN(ra)&&oa._width!==ra){oa._width=ra;var ta=Math.round(ra/(1+ea)),ua=ra-ta;oa.masterChanged(ua);oa.detailChaned(ta);if(na()){var va=ra+aa;la(function(){if(ha){document.body.className=ha;ha='';}ma(va+'px');i.removeClass(document.body,"_5uj5");ia&&p.detailDOMChanged();ia=false;},ha);}}}function la(oa,pa){pa&&i.addClass(document.documentElement,"_5uj6");u(oa);pa&&v(i.removeClass.bind(null,document.documentElement,"_5uj6"),1000);}function ma(oa){m.set(h.getNavRoot(),'width',oa);m.set(r('globalContainer'),'width',oa);}function na(){if(!ga)ga=i.hasClass(document.body,"_6nw");return ga;}j.registerHandler(function(oa,pa,qa,ra){function sa(ta){return na()&&t(new n(ta));}if(sa(ra)){ha=pa;return true;}else if(sa(qa)){la(function(){oa.className=pa;ma('');},true);return true;}});e.exports=ja;},null);
__d("Dock",["Event","shield","Arbiter","ArbiterMixin","BlueBar","ChatQuietLinks","CSS","DataStore","DOM","Parent","Scroll","Style","Toggler","Vector","csx","emptyFunction","WebMessengerWidthControl"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();b('WebMessengerWidthControl');function w(){}Object.assign(w,j,{MIN_HEIGHT:140,INITIAL_FLYOUT_HEIGHT_OFFSET:10,init:function(x){this.init=v;this.rootEl=x;this.calculateViewportDimensions();this.calculateFlyoutHeightOffset();l.removeEmptyHrefs(this.rootEl);g.listen(x,'click',this._onClick.bind(this));g.listen(window,'resize',this._onWindowResize.bind(this));s.subscribe(['show','hide'],function(y,z){var aa=z.getActive();if(!o.contains(x,aa))return;if(m.hasClass(aa,'fbNub')){this.notifyNub(aa,y);if(y==='show')this._resizeNubFlyout(aa);}else{var ba=p.byClass(aa,'fbNubFlyout');if(ba)m.conditionClass(ba,'menuOpened',y==='show');}}.bind(this));this.inform('init',{},i.BEHAVIOR_PERSISTENT);},calculateViewportDimensions:function(){return (this.viewportDimensions=t.getViewportDimensions());},calculateFlyoutHeightOffset:function(){this.flyoutHeightOffset=this.INITIAL_FLYOUT_HEIGHT_OFFSET+t.getElementDimensions(this.rootEl).y;var x=k.getBar();if(x){var y=r.isFixed(x)?'viewport':'document';this.flyoutHeightOffset+=t.getElementPosition(x,y).y+t.getElementDimensions(x).y;}},toggle:function(x){var y=this._findFlyout(x);if(!y)return;this.subscribe('init',function(){s.toggle(x);});},show:function(x){this.subscribe('init',function(){s.show(x);});},showNub:function(x){m.show(x);},hide:function(x){this.subscribe('init',function(){var y=s.getInstance(x);o.contains(x,y.getActive())&&y.hide();});},hideNub:function(x){m.hide(x);this.hide(x);},setUseMaxHeight:function(x,y){m.conditionClass(x,'maxHeight',y!==false);this._resizeNubFlyout(x);},_resizeNubFlyout:function(x){var y=this._findFlyout(x);if(!y||m.hasClass(x,'placeholder')||!(m.hasClass(x,'openToggler')||m.hasClass(x,'opened')))return;var z=o.find(y,'div.fbNubFlyoutOuter'),aa=o.find(z,'div.fbNubFlyoutInner'),ba=o.find(aa,'div.fbNubFlyoutBody'),ca=q.getTop(ba),da=ba.offsetHeight;r.set(ba,'height','auto');var ea=t.getElementDimensions(y),fa=t.getElementDimensions(ba),ga=this.getMaxFlyoutHeight(x);r.set(y,'max-height',ga+'px');r.set(z,'max-height',ga+'px');ea=t.getElementDimensions(y);var ha=t.getElementDimensions(aa),ia=ha.y-fa.y,ja=ea.y-ia,ka=parseInt(ba.style.height||ba.clientHeight,10),la=ja!==ka;if(ea.y>ia&&la)r.set(ba,'height',ja+'px');m.removeClass(y,'swapDirection');var ma=t.getElementPosition(y).x;m.conditionClass(y,'swapDirection',function(){if(ma<0)return true;return (ma+ea.x>this.viewportDimensions.x);}.bind(this)());if(la&&ca+da>=fa.y){q.setTop(ba,ba.scrollHeight);}else q.setTop(ba,ca);this.notifyNub(x,'resize');},getMaxFlyoutHeight:function(x){var y=this._findFlyout(x),z=t.getElementPosition(y,'viewport'),aa=t.getElementDimensions(y),ba=Math.max(this.MIN_HEIGHT,this.viewportDimensions.y-this.flyoutHeightOffset)-(this.viewportDimensions.y-z.y-aa.y);return Math.max(ba,0);},resizeAllFlyouts:function(){var x=this._getAllNubs(),y=x.length;while(y--)this._resizeNubFlyout(x[y]);},hideAllFlyouts:function(){var x=this._getAllNubs(),y=x.length;while(y--)this.hide(x[y]);},_getAllNubs:function(){var x=o.scry(this.rootEl,"div._50-v.openToggler");return x.concat(o.scry(this.rootEl,"div._50-v.opened"));},_onClick:function(event){var x=event.getTarget(),y=p.byClass(x,'fbNub');if(y){if(p.byClass(x,'fbNubFlyoutTitlebar')){var z=p.byTag(x,'a'),aa=x.nodeName=='INPUT'&&x.getAttribute('type')=='submit';if(!z&&!aa){this.hide(y);return false;}}this.notifyNub(y,'click');}},_onWindowResize:function(event){this.calculateViewportDimensions();this.resizeAllFlyouts();},_findFlyout:function(x){return m.hasClass(x,'fbNubFlyout')?x:o.scry(x,'div.fbNubFlyout')[0]||null;},registerNubController:function(x,y){n.set(x,'dock:nub:controller',y);y.subscribe('nub/button/content-changed',h(this.inform,this,'resize',x));y.subscribe('nub/flyout/content-changed',h(this._resizeNubFlyout,this,x));},unregisterNubController:function(x){n.remove(x,'dock:nub:controller');},notifyNub:function(x,y,z){var aa=n.get(x,'dock:nub:controller');aa&&aa.inform(y,z);}});e.exports=a.Dock||w;},null);
__d("NubController",["ArbiterMixin","Dock"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){}Object.assign(i.prototype,g,{init:function(j){this.el=j;h.registerNubController(j,this);return this;},buttonContentChanged:function(){this.inform('nub/button/content-changed');},flyoutContentChanged:function(){this.inform('nub/flyout/content-changed');},hide:function(){h.hide(this.el);},show:function(){h.show(this.el);}});e.exports=i;},null);
__d("DropdownContextualHelpLink",["DOM","ge"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={set:function(j){var k=h('navHelpCenter');if(k!==null)g.replace(k,j);}};e.exports=i;},null);
__d("ChatPerfInstrumentation",["BanzaiLogger","ChatPerfEvent","Promise","emptyFunction","performanceAbsoluteNow"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l={_startTime:(Number),init:function(){this._startTime=k();return new i(function(m){return m();});},_log:function(event){g.log('ChatPerfLoggerConfig',{event:event,duration:k()-this._startTime});},logTTI:function(){this.logTTI=j;this._log(h.TTI);},logCHAT_CONVERSATION_TTI:function(){this.logCHAT_CONVERSATION_TTI=j;this._log(h.CHAT_CONVERSATION_TTI);}};e.exports=l;},null);
__d("ChatBehavior",["Arbiter","AvailableList","AvailableListConstants","MercuryConstants"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=b('MercuryConstants').ChatNotificationConstants,k=false,l=h.getWebChatNotification&&h.getWebChatNotification(),m=k,n=true,o=Object.assign(new g(),{ON_CHANGED:'changed',notifiesUserMessages:function(){return l!==j.NO_USER_MESSAGE_NOTIFICATION;},ignoresRemoteTabRaise:function(){return m;},showsTabUnreadUI:function(){return n;}});function p(){o.inform(o.ON_CHANGED);}h.subscribe&&h.subscribe(i.ON_CHAT_NOTIFICATION_CHANGED,function(){var q=l,r=h.getWebChatNotification();l=r;if(q!=r)p();});g.subscribe('chat/set_does_page_occlude_tabs',function(q,r){m=!!r;p();});g.subscribe('chat/set_show_tab_unread_ui',function(q,r){n=!!r;p();});e.exports=o;},null);
__d("ChatCookieInterface",["ChatConfig","InitialServerTime","LogHistory","PresenceState","PresenceUtil","areJSONRepresentationsEqual"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i.getInstance('chat_cookie'),n=h.serverTime,o=g.get('tab_max_load_age')||3600000,p=n-o,q={store:function(u,v){if(u.uct2==v.lastChangeTime)return u;var w=t(u,v),x={};if(!w){x.old_tabs=u&&u.t2&&JSON.stringify(u.t2);x.old_promoted=u&&u.lm2;x.old_time=u&&u.uct2;x.old_reason=u&&u.tr;x.old_window=u&&u.tw;var y=[];v.tabs.forEach(function(z){if(!z.fragile){var aa={i:z.id,si:z.server_id};if(z.raised)aa.r=1;y.push(aa);}});u.t2=y;u.lm2=v.promotedID;u.uct2=v.lastChangeTime;u.tr=v.lastChangeReason;u.tw=k.getSessionID();x.new_tabs=JSON.stringify(u.t2);x.new_promoted=u.lm2;x.new_time=u.uct2;x.new_reason=u.tr;x.new_window=u.tw;m.debug('store',x);}else{x.tabs=u&&u.t2&&JSON.stringify(u.t2);x.promoted=u&&u.lm2;x.time=u&&u.uct2;x.reason=u&&u.tr;x.window=u&&u.tw;x.last_change_time=v.lastChangeTime;x.last_change_reason=v.lastChangeReason;x.min_change_time=p;m.warn('store_bad_state',x);}return u;},load:function(u,v){if(!u){m.warn('load_bad_state',u);return false;}var w=t(u,v);if(!w||w===v.lastChangeTime)return false;var x={};x.old_tabs=JSON.stringify(v.tabs);x.old_promoted=v.promotedID;x.old_time=v.lastChangeTime;x.old_reason=v.lastChangeReason;x.window_id=k.getSessionID();x.cookie_tabs=u&&u.t2&&JSON.stringify(u.t2);x.cookie_promoted=u&&u.lm2;x.cookie_time=u&&u.uct2;x.cookie_reason=u&&u.tr;x.cookie_window=u&&u.tw;v.lastChangeTime=w;v.lastChangeReason='load';var y=r(v,u.t2,u.lm2||null);x.load_result=y;x.new_tabs=JSON.stringify(v.tabs);x.new_promoted=v.promotedID;x.new_time=v.lastChangeTime;x.new_reason=v.lastChangeReason;var event='load';if(!v.isInitialized)event+='_init';m.log(event,x);return y;}};function r(u,v,w){var x;if(!s(u,v,w))return false;var y=u.tabs.filter(function(ba){return !!ba.fragile;}),z={};u.promotedID=null;u.tabs=v.map(function(ba){var ca={id:ba.i,server_id:ba.si};if(ca.id==w)u.promotedID=ca.id;if(ba.r)ca.raised=true;z[ca.id]=ca;return ca;});u.tabs=u.tabs.filter(function(ba){return !!ba;});if(u.localRaised)for(var aa in u.localRaised)if(!z[aa]||!z[aa].raised)delete u.localRaised[aa];y=y.filter(function(ba){return !z[ba.id];});(x=u.tabs).push.apply(x,y);return true;}function s(u,v,w){if(w!=u.promotedID)return true;var x=u.tabs.filter(function(aa){return !aa.fragile;});if(v.length!=x.length)return true;for(var y=0,z=v.length;y<z;y++)if(!l(v[y],x[y]))return true;return false;}function t(u,v){var w=j.verifyNumber(u.uct2);if(!w||typeof w!=='number'){m.warn('bad_cookie_version',u);return null;}if(w<v.lastChangeTime||w<p)return null;return w;}e.exports=q;},null);
__d("ChatTabPresence",["AvailableList","ChatTabModel","MercuryIDs"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={};function k(l){var m=i.getUserIDFromThreadID(l);if(m&&g.shouldUpdateForID(m))g.updateForID(m);}h.addListener(function(){var l=h.get();l.tabs.forEach(function(m){if(m.raised&&!j[m.id])k(m.id);});j={};l.tabs.forEach(function(m){if(m.raised)j[m.id]=true;});});e.exports={};},null);
__d("ChatMentionsNotifications",["fbt","CurrentUser","MercuryParticipants"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={notifyIfMessageToMe:function(k){var l='fbid:'+h.getID(),m=k.body;i.get(l,function(n){var o=new RegExp(n.short_name,"i");if(o.test(m))j._notify(k);});},_notify:function(k){var l=48,m=k.body;if(m.length>l)m=m.substr(0,l-3)+"...";new Notification(g._("Du wurdest in einer Nachricht markiert!"),{body:m,icon:"http://facebook.com//images/icons-large/fb-xl.png"});}};e.exports=j;},null);
__d("ChatTabViewInstances",["Map"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("SoundPlayer",["Arbiter","Flash","URI","createArrayFromMixed"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={},l=null,m=false,n='so_sound_player',o='/swf/SoundPlayer.swf?v=1',p=null;function q(y){var z=new i(y);if(!z.getDomain())return new i(window.location.href).setPath(z.getPath()).toString();return y;}function r(y){var z=new i(y).getPath();if(/\.mp3$/.test(z))return 'audio/mpeg';if(/\.og[ga]$/.test(z))return 'audio/ogg';return '';}function s(){if(!p){var y=document.createElement('audio');if(!y||!y.canPlayType)return null;y.setAttribute('preload','auto');document.body.appendChild(y);p=y;}return p;}function t(){var y=document[n]||window[n];if(y)if(!y.playSound&&y.length)y=y[0];return (y&&y.playSound&&y.loopSound)?y:null;}function u(){return m;}function v(y,z,aa){l={path:y,sync:z,loop:aa};}function w(){m=true;if(l){var y=t();if(l.loop){y.loopSound(l.path,l.sync);}else y.playSound(l.path,l.sync);}}var x={init:function(y){y=j(y);var z;for(var aa=0;aa<y.length;++aa){z=y[aa];if(k[z])return;}var ba=s();for(aa=0;ba&&aa<y.length;++aa){z=y[aa];if(ba.canPlayType(z)){k[z]=true;return;}}k['audio/mpeg']=true;if(t())return;try{g.registerCallback(w,['sound/player_ready','sound/ready']);var da=document.createElement('div');da.id='sound_player_holder';document.body.appendChild(da);var ea=window[n]=h.embed(o,da,{allowscriptaccess:'always',wmode:'transparent'},{swf_id:n});ea.setAttribute('id',n);ea.setAttribute('width','1px');ea.setAttribute('height','1px');g.inform('sound/player_ready');}catch(ca){}},play:function(y,z){y=j(y);var aa=s(),ba,ca;for(var da=0;aa&&da<y.length;++da){ba=y[da];ca=r(ba);if(!aa.canPlayType(ca))continue;x.init([ca]);aa.src=q(ba);if(z){aa.setAttribute('loop','');}else aa.removeAttribute('loop');aa.play();return;}for(da=0;da<y.length;++da){ba=q(y[da]);ca=r(ba);if(ca!='audio/mpeg')continue;x.init([ca]);var ea=t();if(!u()){v(ba,true,z);return;}else if(ea){if(z){ea.loopSound(ba,true);}else ea.playSound(ba,true);return;}}},stop:function(y){y=j(y);for(var z=0;z<y.length;++z){var aa=q(y[z]),ba=s(),ca=t();if(ba&&ba.src==aa){ba.pause();ba.removeAttribute('src');}else ca&&ca.stopSound(aa);}}};e.exports=x;},null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='fb_sounds_playing3';function k(){var o=h.getLocalStorage();if(o)try{var q=o[j];if(q){q=JSON.parse(q);if(Array.isArray(q))return q;}}catch(p){}return [];}function l(o){var p=h.getLocalStorage();if(p){var q=k();q.push(o);while(q.length>5)q.shift();try{p[j]=JSON.stringify(q);}catch(r){}}}function m(o){return k().some(function(p){return p===o;});}var n={play:function(o,p,q){o=i(o);p=p||(o[0]+Math.floor(Date.now()/1000));if(m(p))return;g.play(o,q);l(p);},isSupported:function(){return !!h.getLocalStorage();}};e.exports=n;},null);
__d("SoundRPC",["Event","SoundSynchronizer"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(k,l,m){h.play(k,l,m);}var j={playLocal:i,playRemote:function(k,l,m,n){var o={paths:l,sync:m,loop:n};k.postMessage(JSON.stringify(o),'*');},supportsRPC:function(){return !!window.postMessage;},_listen:function(){g.listen(window,'message',function(k){if(!/\.facebook.com$/.test(k.origin))return;var l=JSON.parse(k.data||'{}');i(l.paths,l.sync,l.loop);});}};e.exports=j;},null);
__d("ChatNewMessageHandler",["ChatActivity","ChatMentionsNotifications","ChatTabModel","ChatTabViewInstances","JSLogger","MercuryAssert","MercuryBrowserAlerts","UserActivity","MercuryConfig","MercuryThreadlistConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=k.create('chat_new_message'),r={_notify:function(s,t,u){if(o.DesktopNotificationsGK)h.notifyIfMessageToMe(t);var v=j.get(s);u.view_is_visible=v&&v.isVisible();u.view_is_focused=v&&v.isFocused();if(!u.view_is_visible)q.log('message_to_hidden');u.is_active=g.isActive();m.messageReceived(t);},newMessage:function(s,t){l.isThreadID(s);var u=i.getTab(s),v={thread_id:s,message_id:t.message_id,to_new_tab:!u,to_raised_tab:u?!!u.raised:true};this._notify(s,t,v);q.log('message',v);}};m.subscribe('before-alert',function(s,event){var t=event.threadID,u=j.get(t),v=i.getTab(t),w=p.MESSAGE_NOTICE_INACTIVITY_THRESHOLD;if(v&&v.raised&&u&&u.isVisible()&&u.isFocused()&&n.isActive(w)){u.tryMarkAsRead();event.cancelAlert();}});e.exports=r;},null);
__d("ChatTabLRUManager",["ChatTabViewInstances","ChatTabModel","InitialServerTime","MercuryThreads"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=b('MercuryThreads').get(),k={getLRUVisibleTab:function(l){if(l.hasRoomForRaisedTab())return (void 0);var m=Object.keys(l.getTabsToShow()||{}),n=1*60,o=null,p=Infinity;for(var q=0;q<m.length;q++){var r=m[q],s=j.getThreadMetaNow(r);if(h.isTabPromoted(r))continue;if(!g.get(r).hasEmptyInput()||!s)continue;var t=(i.serverTime-s.timestamp)/1000;if(!s.timestamp||(s.timestamp&&s.timestamp<p&&t>n)){o=s.thread_id;p=s.timestamp;}}return o;}};e.exports=k;},null);
__d("ChatTabPolicy",["ChatBehavior","ChatConfig","JSLogger","MercuryActionType","MercuryLogMessageType","MercuryAssert","MercuryConfig","MercuryIDs","MercuryParticipantTypes","MercurySourceType","MercuryThreadInfo","MercuryThreadMode","MercuryViewer","MessagingTag","PresencePrivacy","ShortProfiles","MercuryThreadActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w=b('MercuryThreadActions').get(),x=i.create('tab_policy');e.exports={messageIsAllowed:function(y,z,aa){var ba=y.thread_id,ca=z.message_id;l.isThreadID(ba);l.isParticipantID(z.author);var da;if(q.isMuted(y)){da={thread_id:ba,message_id:ca,mute_settings:y.mute_settings};x.log('message_thread_muted',da);if(!m.GroupChatMentionsGK)return;}if(y.mode==r.OBJECT_ORIGINATED){da={thread_id:ba,message_id:ca,mode:y.mode};x.log('message_object_originated',da);return;}if(z.source==p.EMAIL||z.source==p.TITAN_EMAIL_REPLY){da={thread_id:ba,message_id:ca,source:z.source};x.log('message_source_not_allowed',da);return;}var ea=n.getUserIDFromParticipantID(z.author);if(!ea){x.log('message_bad_author',{thread_id:ba,message_id:ca,user:ea});return;}if(z.action_type!=j.USER_GENERATED_MESSAGE&&!this._messageIsNewlyCreatedGroup(z,y)){da={thread_id:ba,message_id:ca,type:z.action_type};x.log('message_non_user_generated',da);return;}if(y.is_canonical_user&&!g.notifiesUserMessages()){x.log('message_jabber',{thread_id:ba,message_id:ca});w.markSeen(ba,true);return;}if(y.is_canonical&&!y.canonical_fbid){x.log('message_canonical_contact',{thread_id:ba,message_id:ca});return;}if(y.folder!=t.INBOX){x.log('message_folder',{thread_id:ba,message_id:ca,folder:y.folder});return;}var fa=n.getUserIDFromParticipantID(s.getID());v.getMulti([ea,fa],function(ga){if(!u.allows(ea)){x.log('message_privacy',{thread_id:ba,message_id:ca,user:ea});return;}var ha=ga[ea].employee&&ga[fa].employee,ia=h.get('IsWorkUser',false);if(!ha&&!ia&&!ga[ea].isCommercePage&&ga[ea].type!==o.FRIEND){x.log('message_non_friend',{thread_id:ba,message_id:ca,user:ea});return;}aa();});},_messageIsNewlyCreatedGroup:function(y,z){return y.action_type===j.LOG_MESSAGE&&y.log_message_type===k.THREAD_NAME&&z.message_count===1;}};},null);
__d("ChatTabViewEvents",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("ChatTabViewSelector",["Arbiter","ArbiterMixin","CSS","ChatTabActions","CurrentUser","DOM","DataStore","Event","MenuDeprecated","MercuryThreadTitle.react","NubController","React","ChatTabTemplates","Toggler","MercuryThreadInformer","MercuryThreads"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=b('MercuryThreadInformer').get(),v=b('MercuryThreads').get();function w(x){var y=s[':fb:chat:tab:selector'].build(),z=y.getRoot(),aa=y.getNode('menu'),ba=l.find(aa,'.uiMenuInner'),ca={},da=new q().init(z);i.hide(z);l.insertBefore(x,z);function ea(ha){var ia=0;for(var ja in ca){var ka=ca[ja],la=v.getThreadMetaNow(ja),ma=ka.getNode('unreadCount'),na=(la&&la.unread_count)||0;ia+=na;if(na>9)na='+';i.conditionClass(ma,'invisible_elem',!na);l.setContent(ma,na);}var oa=y.getNode('numMessages');i.conditionShow(oa,ia);l.setContent(oa,ia);}this.setTabData=function(ha){var ia=ca;ca={};if(ha.length<1){i.hide(z);return;}i.show(z);l.empty(ba);ha.forEach(function(la){var ma=s[':fb:chat:tab:selector:item'].build(),na=ma.getNode('content');ca[la.id]=ma;v.getThreadMeta(la.id,function(pa){r.render(r.createElement(p,{thread:pa,useAndSeparator:true,viewer:k.getID()}),na);});l.prependContent(ba,ma.getRoot());m.set(ma.getRoot(),'threadID',la.id);var oa=ma.getNode('closeButton');n.listen(oa,'click',function(event){j.closeTab(la.id,'selector/close-tab');event.kill();});});for(var ja in ia)if(ia.hasOwnProperty(ja)){var ka=ia[ja].getNode('content');ka&&r.unmountComponentAtNode(ka);}da.flyoutContentChanged();l.setContent(y.getNode('numTabs'),ha.length);ea();};function fa(event,ha){if(ha.menu!=aa)return;var ia=m.get(ha.item,'threadID');w.inform('selected',ia);t.hide(z);}function ga(event,ha){o.register(aa);}o.subscribe('select',fa.bind(this));t.listen('show',z,function(){g.inform('layer_shown',{type:'ChatTabSelector'});ga();});t.listen('hide',z,function(){g.inform('layer_hidden',{type:'ChatTabSelector'});});u.subscribe('threads-updated',ea);}Object.assign(w,h);e.exports=w;},null);
__d("ChatTabController",["Arbiter","BanzaiLogger","ChatActivity","ChatConfig","ChatNewMessageHandler","ChatTabActions","ChatTabLRUManager","ChatTabModel","ChatTabPolicy","ChatTabViewEvents","ChatTabViewInstances","ChatTabViewSelector","JSLogger","MercuryViewer","Style","UserAgent_DEPRECATED","VideoCallCore","ChatTabPresence","ChatTypeaheadBehavior","MercuryThreadInformer","MercuryThreadActions","MercuryThreads"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();b('ChatTabPresence');b('ChatTypeaheadBehavior');var x=b('MercuryThreadInformer').get(),y=b('MercuryThreadActions').get(),z=b('MercuryThreads').get(),aa=j.get('tab_auto_close_timeout')||7200000,ba=s.create('tab_controller');function ca(na,oa,pa){var qa=n.get().tabs,ra=qa[na],sa,ta;if(qa.length===0)return false;var ua=qa.slice(na+1),va=qa.slice(0,na),wa=ua.concat(va);if(!oa)wa.reverse();if(ra)wa.push(ra);for(var xa=0;xa<wa.length;xa++){sa=wa[xa];ta=q.get(sa.id);if(ta&&ta.isVisible()&&(!pa||sa.raised)){ta.focus();return true;}}return false;}function da(na,oa){var pa=oa&&oa.getRightmostHiddenTab();if(pa===na)return null;return pa;}function ea(){return Math.floor(Math.random()*2147483648).toString(16);}function fa(na,oa,pa,qa){l.raiseTab(na,true,pa);var ra=oa&&oa.getLeftmostVisibleTab(),sa=oa&&oa.getTabsToShow();if(sa&&!sa[na]&&ra){n.promoteThreadInPlaceOfThread(na,ra,da(na,oa),true);}else l.promoteTab(na);g.inform('chat/open-tab',na);if(qa)return;var ta=q.get(na);ta&&ta.focus();}function ga(na,oa){if(!n.getTab(na))l.raiseTab(na,false);var pa=oa&&m.getLRUVisibleTab(oa),qa=oa&&oa.getTabsToShow();if(qa&&!qa[na]&&pa)n.promoteThreadInPlaceOfThread(na,pa,da(na,oa));}function ha(na){r.subscribe('selected',function(pa,qa){fa(qa,na);});g.subscribe('page_transition',function(pa,qa){l.closeFragileTabs();});g.subscribe('chat-visibility/go-offline',function(){l.closeAllTabs();});i.subscribe('idle',function(pa,qa){if(qa>aa){var ra=n.get().tabs;ra.forEach(function(sa){var ta=sa.id;z.getThreadMeta(ta,function(ua){if(!ua.unread_count){ba.log('autoclose_idle_seen',{thread_id:ta,idleness:qa});l.closeTab(ta,'autoclose_idle_seen');}});});}});p.subscribe('nub-activated',function(pa,qa){fa(qa,na);});p.subscribe('focus-tab',function(pa,qa){var ra=n.getTab(qa);if(ra&&ra.raised)fa(qa,na,ra.signatureID,false);});function oa(pa,qa){h.log('VideoCallLoggerConfig',{event:'chat_tab_call_click'});w.showOutgoingCallDialog(qa.userID,qa.audioOnly,qa.clickSource);}p.subscribe('video-call-clicked',oa);p.subscribe('interaction-with-tab',function(pa,qa){var ra=n.getTab(qa);ra&&ra.raised&&y.markSeen(qa);});p.subscribe('esc-pressed',function(pa,qa){ba.log('close_esc',{thread_id:qa});var ra=n.indexOf(qa);l.closeTab(qa,'close_esc');setTimeout(function(){ca(ra-1,true,true);},0);});x.subscribe('messages-received',function(pa,qa){for(var ra in qa){var sa=qa[ra];for(var ta=0;ta<sa.length;ta++){var ua=sa[ta];if(ua.author!=t.getID()){if(!ua.is_unread){ba.log('message_already_read',{action_id:ua.action_id,thread_id:ua.thread_id});continue;}z.getThreadMeta(ra,function(va){o.messageIsAllowed(va,ua,function(){ga(ra,na);k.newMessage(ra,ua);});});}}}});x.subscribe('thread-read-changed',function(pa,qa){for(var ra in qa)if(!qa[ra].mark_as_read){ba.log('autoclose_marked_unread',{thread_id:ra});l.closeTab(ra,'autoclose_marked_unread');}});p.subscribe('tab-pressed',function(pa,qa){return !ca(n.indexOf(qa.id),qa.shiftPressed);});g.subscribe(s.DUMP_EVENT,function(pa,qa){qa.chat_controller={auto_close_timeout:aa};});this.openTab=function(pa,qa,ra,sa){fa(pa,qa,ea(),sa);if(ra)ra(q.get(pa));};}if(v.firefox()){var ia=function(){return u.get(document.body,'overflowX')+' '+u.get(document.body,'overflowY');},ja=ia(),ka=function(){var na=ia();if(na!==ja){ja=na;g.inform('overflow-applied-to-body');}};if('MutationObserver' in window){var la=new MutationObserver(ka),ma={attributes:true,attributeFilter:['class','style']};la.observe(document.documentElement,ma);}else document.documentElement.addEventListener('DOMAttrModified',function(event){if(event.getTarget()===document.documentElement&&(event.attrName==='class'||event.attrName==='style'))ka();},false);}e.exports=ha;},null);
__d("ChatTabViewPlaceholder",["DOM","ErrorUtils","React","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(l,m,n,o,p,q){this.$ChatTabViewPlaceholder0={threadID:m,serverThreadID:n,signatureID:o,root:p,prevTab:q};this.$ChatTabViewPlaceholder1={visible:true,raised:true};l.then(function(r){try{var t=new r(this.$ChatTabViewPlaceholder0.threadID,this.$ChatTabViewPlaceholder0.serverThreadID,this.$ChatTabViewPlaceholder0.signatureID,this.$ChatTabViewPlaceholder0.root,this);t.setVisibleState(this.$ChatTabViewPlaceholder1.visible,this.$ChatTabViewPlaceholder1.raised);this.destroy();this.$ChatTabViewPlaceholder2=t.getTabElem();if(this.$ChatTabViewPlaceholder3)this.$ChatTabViewPlaceholder3(this.$ChatTabViewPlaceholder0.threadID,t);}catch(s){h.reportError(s,false);}}.bind(this));this.render(this.$ChatTabViewPlaceholder0.root,this.$ChatTabViewPlaceholder0.prevTab);}k.prototype.getTabElem=function(){return this.$ChatTabViewPlaceholder2;};k.prototype.onBeingReplaced=function(l){this.$ChatTabViewPlaceholder3=l;};k.prototype.updateSignatureID=function(l){this.$ChatTabViewPlaceholder0.signatureID=l;};k.prototype.getScrollTop=function(){return 0;};k.prototype.appendTo=function(l){g.appendContent(l,this.$ChatTabViewPlaceholder2);};k.prototype.insertBefore=function(l){g.insertBefore(l.getTabElem(),this.$ChatTabViewPlaceholder2);};k.prototype.isFocused=function(){return false;};k.prototype.hasEmptyInput=function(){return true;};k.prototype.destroy=function(){i.unmountComponentAtNode(this.$ChatTabViewPlaceholder2);g.remove(this.$ChatTabViewPlaceholder2);};k.prototype.nextTabIs=function(l){var m=l&&l.getTabElem();return !!(this.$ChatTabViewPlaceholder2&&this.$ChatTabViewPlaceholder2.nextSibling===m);};k.prototype.setVisibleState=function(l,m){this.$ChatTabViewPlaceholder1={visible:l,raised:!!m};this.render(this.$ChatTabViewPlaceholder0.root,this.$ChatTabViewPlaceholder0.prevTab);};k.prototype.render=function(l,m){var n=!this.$ChatTabViewPlaceholder1.visible,o=this.$ChatTabViewPlaceholder1.raised,p=(("fbNub")+(' '+"_50-v")+(n?' '+"hidden_elem":'')+(o?' '+"opened":'')+(' '+"placeholder")+(' '+"_50mz"));if(!this.$ChatTabViewPlaceholder2){var q=g.create('div',{className:p});this.$ChatTabViewPlaceholder2=q;i.render(i.createElement("div",null,i.createElement("span",{className:"fbNubButton"}),"opened"+' '+"? (",i.createElement("div",{className:"fbNubFlyout fbDockChatTabFlyout _16bz"},i.createElement("div",{className:"fbNubFlyoutTitlebar"}),i.createElement("div",{className:"fbNubFlyoutBody"})),")"),q);if(m&&m.getTabElem()){this.insertBefore(m);}else this.appendTo(l);}else this.$ChatTabViewPlaceholder2.className=p;};e.exports=k;},null);
__d("ChatTabViewLoader",["Bootloader","ChatTabViewPlaceholder","Promise","Run","requireWeak"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l,m;k('ChatTabView',function(o){return m=o;});var n={make:function(o,p,q,r,s){if(m){return new m(o,p,q,r,s);}else{if(!l)l=new i(function(t){j.onAfterLoad(function(){g.loadModules(["ChatTabView"],function(u){m=u;t(u);});});});return new h(l,o,p,q,r,s);}}};e.exports=n;},null);
__d("ChatTabViewCoordinator",["Arbiter","ChatTabModel","ChatTabViewLoader","ChatTabViewSelector","CSS","JSLogger","VideoCallSupport"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=l.create('chat_tab_coordinator');function o(p,q){var r=new j(p),s={},t=false;function u(){var y=h.get(),z={};y.tabs.forEach(function(ba){z[ba.id]=1;});n.log('process_tab_changed',{model_tabs:Object.keys(z),view_tabs:Object.keys(s)});for(var aa in s)if(!z[aa]){n.log('remove_tab',{tab_id:aa});s[aa].destroy();delete(s[aa]);}v(y);w(y);if(y.tabNeedsFocus&&!y.tabNeedsFocus.isFocused())y.tabNeedsFocus.focus();}function v(y){var z=null;y.tabs.forEach(function(aa){var ba=aa.id,ca=false;if(!s[ba]){n.log('add_tab',{tab_id:ba});s[ba]=i.make(ba,aa.server_id,aa.signatureID,p,z);ca=true;if(s[ba].onBeingReplaced)s[ba].onBeingReplaced(function(ea,fa){s[ea]=fa;});}else s[ba].updateSignatureID(aa.signatureID);if(s[ba].isFocused())y.tabNeedsFocus=s[ba];if(!ca&&!s[ba].nextTabIs(z)){var da=s[ba].getScrollTop();if(z){s[ba].insertBefore(z);}else s[ba].appendTo(p);if(da)s[ba].setScrollTop(da);}z=s[ba];});}function w(y){var z=q.getTabsToShow(y),aa=[],ba=false;y.tabs.forEach(function(ca){if(!z[ca.id]){s[ca.id].setVisibleState(false,ca.raised);aa.push(ca);}});y.tabs.forEach(function(ca){if(z[ca.id]){s[ca.id].setVisibleState(true,ca.raised);ba|=ca.raised;}});r.setTabData(aa);x(ba);}function x(y){if(!y&&t){g.inform('layer_hidden',{type:'ChatTab'});t=false;}else if(y&&!t){g.inform('layer_shown',{type:'ChatTab'});t=true;}}if(m.isVideoCallSupported())k.addClass(p,'videoCallEnabled');q.subscribe('tabs-changed',u);u();}e.exports=o;},null);
__d("TabsViewport",["Arbiter","ArbiterMixin","ChatTabModel","Dock","DOM","DOMDimensions","Event","Parent","Vector","ViewportBounds","areJSONRepresentationsEqual","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=175,t=269,u=0;function v(){return s;}function w(){return t;}function x(y){this._root=y;var z=this._recalculateWidth.bind(this);m.listen(window,'resize',z);j.subscribe('resize',z);g.subscribeOnce('sidebar/initialized',z,g.SUBSCRIBE_NEW);i.subscribe('change',function(){return this._recalculateTabs(true);}.bind(this));this._recalculateWidth();this._initialized=true;}Object.assign(x.prototype,h,{_root:null,_initialized:false,_availableWidth:0,_maxShown:1,_viewState:null,_recalculateWidth:function(){var y=x._getAvailableDockWidth(this._root),z=Math.max(1,Math.floor(y/w())),aa=z!=this._maxShown;if(!this._viewState||aa||y<=this._viewState.usedWidth||y>this._viewState.widthToShowNext){this._availableWidth=y;this._maxShown=z;this._viewState=null;this._recalculateTabs(aa);}},_onTabsChanged:function(){if(this._initialized){this.inform('tabs-changed');this.inform('max-to-show-changed',this._maxShown);this.inform('max-to-show-change-completed');}},_recalculateTabs:function(y){var z=x._getTabsToShow(i.get(),this._availableWidth);if(y||!q(this._viewState,z)){this._viewState=z;this._onTabsChanged();}},getMaxTabsToShow:function(){return this._maxShown;},checkWidth:function(){this._recalculateWidth();},hasRoomForRaisedTab:function(){return this._availableWidth-this._viewState.usedWidth>w();},getTabsToShow:function(){return JSON.parse(JSON.stringify(this._viewState.tabsToShow));},getShowingTabsOrder:function(){var y=i.get(),z=this._viewState.tabsToShow;return y.tabs.filter(function(aa){return z[aa.id];});},getRightmostHiddenTab:function(){var y=i.get(),z=this._viewState.tabsToShow,aa=y.tabs.filter(function(ca){return !z[ca.id];}),ba=aa.shift();return ba?ba.id:null;},getLeftmostVisibleTab:function(){var y=this.getShowingTabsOrder(),z=y.pop();return z?z.id:null;},getRaisedVisibleTabs:function(){var y=[],z=this.getShowingTabsOrder(),aa=z.length;for(var ba=0;ba<aa;ba++)if(i.getTab(z[ba].id).raised)y.push(z[ba].id);return y;},shouldPromoteOnRaise:function(y){if(!this._viewState.tabsToShow[y])return true;if(this._viewState.nextToHide!=y)return false;var z=i.getTab(y),aa=z&&z.raised;return !aa&&(this._availableWidth-this._viewState.usedWidth<w()-v());}});Object.assign(x,{_getAvailableDockWidth:function(y){var z=l.getViewportWithoutScrollbarDimensions().width;z-=p.getLeft()+p.getRight();z-=50;var aa=n.byClass(y,'fbDock'),ba=k.find(aa,"._56ox"),ca=ba?o.getElementDimensions(ba).x:0;z-=ca;var da=k.scry(aa,"._56oy");ca+=o.getElementDimensions(da.pop()).x;var ea=o.getElementDimensions(aa),fa=ea.x-ca;if(fa>u)u=fa;z-=u;z-=15;return Math.max(z,0);},_getTabsToShow:function(y,z){z=Math.max(z,w()+1);function aa(qa,ra){return (qa.raised||!ra)?w():v();}var ba=JSON.parse(JSON.stringify(y.tabs)),ca=-1,da=null;if(y.promoted)ba.forEach(function(qa,ra){if(qa.id===y.promoted){ca=ra;da=qa;}});var ea=0,fa=false,ga=0,ha=!da;ba.forEach(function(qa,ra){var sa=aa(qa,fa);fa=fa||!qa.raised;qa.leftmostOffset=ea+sa;ea+=sa;if(qa.leftmostOffset<z)ga++;ha|=ra==ca;qa.alreadyPlacedPromoted=ha;});function ia(qa,ra,sa){var ta={};for(var ua=0;ua<ra;ua++){var va=qa[ua];if(!va.alreadyPlacedPromoted&&ua==ra-1){ta[sa]=true;}else ta[va.id]=true;}return ta;}var ja=ia(ba,ga,y.promoted),ka=ia(ba,ga-1,y.promoted),la=null;for(var ma in ja)if(!ka[ma])la=ma;var na=ba[ga-1],oa=na?na.leftmostOffset:0,pa=Infinity;if(ga<ba.length)pa=ba[ga].leftmostOffset;return {nextToHide:la,tabsToShow:ja,usedWidth:oa,widthToShowNext:pa};}});e.exports=x;},null);
__d("MessengerDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("MNCommerceActionTypes",["keyMirrorRecursive"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({RECEIPT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},SHIPMENT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},DIALOG:{SHOW:null,HIDE:null}});e.exports=h;},null);
__d("MNCommerceDialogStateStore",["FluxStore","MessengerDispatcher","MNCommerceActionTypes"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(){g.call(this,h);this.$MNCommerceDialogStateStore0=null;this.$MNCommerceDialogStateStore1=null;}l.prototype.__onDispatch=function(m){var n=m.type;switch(n){case i.DIALOG.SHOW:this.$MNCommerceDialogStateStore0=m.dialogContainer;this.$MNCommerceDialogStateStore1=m.state;this.__emitChange();break;case i.DIALOG.HIDE:this.$MNCommerceDialogStateStore0=null;this.$MNCommerceDialogStateStore1=null;this.__emitChange();break;}};l.prototype.getDialogContainer=function(){return this.$MNCommerceDialogStateStore0;};l.prototype.getState=function(){return this.$MNCommerceDialogStateStore1;};e.exports=new l();},null);
__d("MNCommerceDialogContainer.react",["MNCommerceDialogStateStore","PureStoreBasedStateMixin","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=i.createClass({displayName:"MNCommerceDialogContainer",mixins:[h(g)],statics:{calculateState:function(){var k=g.getDialogContainer();return {dialogContainer:k};}},render:function(){var k=this.state.dialogContainer;if(!k)return null;return i.createElement(k,null);}});e.exports=j;},null);
__d("P2PActionConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={CREDIT_CARDS_UPDATED:'credit_cards_updated',CHANNEL_EVENTS_ALLOWED:'channel_events_allowed',CHANNEL_EVENTS_IGNORED:'channel_events_ignored',CREDIT_CARD_ADDED:'credit_card_added',CREDIT_CARD_ADDED_ERROR:'credit_card_added_error',CREDIT_CARD_DELETED:'credit_card_deleted',CREDIT_CARD_DELETED_ERROR:'credit_card_deleted_error',CREDIT_CARD_UPDATED:'credit_card_updated',CREDIT_CARD_UPDATED_ERROR:'credit_card_updated_error',PRESET_CREDIT_CARD_UPDATED:'preset_credit_card_updated',PRESET_CREDIT_CARD_UPDATED_ERROR:'preset_credit_card_updated_error',CREDIT_CARD_VERIFIED:'credit_card_verified',CREDIT_CARD_VERIFIED_ERROR:'credit_card_verified_error',TRANSFERS_UPDATED:'transfers_updated',TRANSFERS_UPDATED_ERROR:'transfers_updated_error',NUX_TRANSFERS_UPDATED:'nux_transfers_updated',TRANSFER_ADDED:'transfer_added',TRANSFER_ADDED_ERROR:'transfer_added_error',TRANSFER_UPDATED:'transfer_updated',TRANSFER_UPDATED_ERROR:'transfer_updated_error',TRANSFER_ACCEPTED:'transfer_accepted',TRANSFER_DECLINED:'transfer_declined',CHAT_SEND_VIEW_OPENED:'chat_send_view_opened',CHAT_SEND_VIEW_CLOSED:'chat_send_view_closed',BIN_NUMBER_VALIDATED:'bin_number_validated',BIN_NUMBER_VALIDATED_ERROR:'bin_number_validated_error',USER_ELIGIBILITY_UDPATED:'user_eligibility_updated',DIALOG_SHOWN:'dialog_shown',DIALOG_CLOSED:'dialog_closed',BANNER_STATES_UPDATED:'banner_states_updated',BANNER_DISMISSED:'banner_dismissed',BANNER_VIEWED:'banner_viewed',BANNER_COMPLETED:'banner_completed',MONEYPENNY_TRANSFER_CREATED:'moneypenny_transfer_created',MONEYPENNY_TRANSFER_CREATED_ERROR:'moneypenny_transfer_created_error'};e.exports=g;},null);
__d("P2PDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("P2PDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j,k={};for(var l in g)if(g.hasOwnProperty(l))n[l]=g[l];var m=g===null?null:g.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=g;function n(){g.call(this);j=i.register(this.onEventDispatched.bind(this));k={dialogClass:null,dialogProps:null};}n.prototype.getState=function(){return k;};n.prototype.onEventDispatched=function(o){var p=o.type,q=o.data;switch(p){case h.DIALOG_SHOWN:k.dialogClass=q.dialogClass;k.dialogProps=q.dialogProps;this.emit('change');break;case h.DIALOG_CLOSED:k.dialogClass=null;k.dialogProps=null;this.emit('change');break;}};e.exports=new n();},null);
__d("P2PDialogContainer.react",["P2PDialogStore","React","ReactLayeredComponentMixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h.createClass({displayName:"P2PDialogContainer",mixins:[i],getInitialState:function(){return g.getState();},componentDidMount:function(){this.dialogStoreSub=g.addListener('change',this.onDialogStoreChange);},componentWillUnmount:function(){if(this.dialogStoreSub){this.dialogStoreSub.remove();this.dialogStoreSub=null;}},onDialogStoreChange:function(){this.setState(g.getState());},renderLayers:function(){if(!this.state.dialogClass)return {};var k=this.state.dialogClass;return {dialog:h.createElement(k,h.__spread({},this.state.dialogProps))};},render:function(){return null;}});e.exports=j;},null);
__d("ChatApp",["CSS","ChatPerfInstrumentation","DOM","JSLogger","Promise","React","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n={init:function(t,u,v){if(this._isInitialized){j.create('chat_app').error('repeated_init');return;}this._rootElem=t;k.resolve().then(function(){return h.init();}).then(function(){return o();}).then(function(){return p(v);}).then(function(){return q(u,t);}).then(function(){return r();}).then(function(){this._isInitialized=this._isLoaded=true;h.logTTI();}.bind(this)).then(function(){return s(v);});},isInitialized:function(){return !!this._isInitialized;},isHidden:function(){return !this._isInitialized||this._isHidden;},hide:function(){if(this.isHidden())return;g.hide(this._rootElem);this._isHidden=true;},unhide:function(){if(this._isInitialized){if(this._isHidden){g.show(this._rootElem);this.tabsViewport.checkWidth();d(['Dock'],function(t){t.resizeAllFlyouts();});this._isHidden=false;}}else if(!this._isLoaded){d(['UIPagelet'],function(t){t.loadFromEndpoint('ChatTabsPagelet','ChatTabsPagelet');t.loadFromEndpoint('BuddylistPagelet','BuddylistPagelet');});this._isLoaded=true;}}};function o(){return new k(function(t){d(['MercuryChannelHandler','MercuryDelayedRoger','MercuryDeliveryState','MercuryParticipants','MercuryStateCheck','MercuryThreads','MercuryUnreadState','MercuryUnseenState'],function(u,v,w,x,y,z,aa,ba){u.get().turnOn();v;w.get();x;z.get();ba.get();aa.get();y.get();t();});});}function p(t){return new k(function(u){d(['MercuryServerRequests'],function(v){v.get().handleUpdate(t);u();});});}function q(t,u){return new k(function(v){d(['ChatTabController','ChatTabViewCoordinator','TabsViewport','MNCommerceDialogContainer.react','P2PDialogContainer.react'],function(w,x,y,z,aa){n.tabsViewport=new y(t);n.tabViewCoordinator=new x(t,n.tabsViewport);n.tabController=new w(n.tabsViewport);var ba=i.find(u,"._26-x");l.render(l.createElement(z,null),ba);var ca=i.find(u,"._26-y");l.render(l.createElement(aa,null),ca);v();});});}function r(){return new k(function(t){d(['HotLikeSound','ChatOptions'],function(u,v){u.setCheckSoundEnabledFunc(function(){return v.getSetting('sound');});t();});});}function s(t){return new k(function(u){if(!t.threads_to_auto_open||!n.tabsViewport.hasRoomForRaisedTab())u();d(['ChatOpenTab'],function(v){v.openThread(t.threads_to_auto_open.thread_fbid,"autoOpenTab",'',null,true);u();});});}e.exports=n;},null);