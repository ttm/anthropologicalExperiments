/*!CK:520327365!*//*1436767408,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["sX+c4"]); }

__d("VideoUploadFile",["fileSlice","VideoUploadFeatureDetector"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k,l,m){"use strict";this.$VideoUploadFile0=j;this.$VideoUploadFile1=k;this.$VideoUploadFile2=l;this.$VideoUploadFile3=m;}i.fromFile=function(j){"use strict";var k=i.getExtensionFromFileName(j.name);return new this(null,j,j.size,k);};i.fromFileInput=function(j){"use strict";var k=null,l=null,m=i.getExtensionFromFileInput(j);if(h.supportsFileAPI()&&j.files.length){k=j.files[0];l=k.size;}return new this(j,k,l,m);};i.prototype.getFileInput=function(){"use strict";return this.$VideoUploadFile0;};i.prototype.getFile=function(){"use strict";return this.$VideoUploadFile1;};i.prototype.getSize=function(){"use strict";return this.$VideoUploadFile2;};i.prototype.getExtension=function(){"use strict";return this.$VideoUploadFile3;};i.prototype.getChunk=function(j,k){"use strict";return this.$VideoUploadFile1?g.call(this.$VideoUploadFile1,j,k):null;};i.getExtensionFromFileInput=function(j){"use strict";return this.getExtensionFromFileName(j.value);};i.getExtensionFromFileName=function(j){"use strict";return j.indexOf('.')!=-1?j.split('.').pop().toLowerCase():'';};e.exports=i;},null);
__d("ComposerXMediaUploadHandler",["Arbiter","AsyncRequest","ComposerXAjaxEndpoint","ComposerXController","CSS","Dialog","SubscriptionsHandler","URI","VideoUploadConfig","VideoUploadFile","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=i.MEDIA_UPLOAD,s='/ajax/composerx/attachment/video/upload/',t=0;function u(v,w){"use strict";this.$ComposerXMediaUploadHandler0=v;this.$ComposerXMediaUploadHandler1=w;}u.prototype.fetchAttachments=function(){"use strict";[this.getPhotoUploadAttachmentEndpoint(),s].forEach(function(v){j.fetchAttachmentData(this.$ComposerXMediaUploadHandler0,v);}.bind(this));};u.prototype.handleFileSelected=function(v){"use strict";if(u.isVideoFile(v)){this.handleVideoSelected(v);}else this.handlePhotoSelected(v);};u.prototype.handleVideoSelected=function(v){"use strict";if(this.$ComposerXMediaUploadHandler1&&this.$ComposerXMediaUploadHandler1.imagesOnly){var w=new l().setModal(true).setButtons([l.OK]);if(this.$ComposerXMediaUploadHandler1.isEditComposer){w.setTitle(q._("Video kann nicht hinzugef\u00fcgt werden")).setBody(q._("Sorry, you can't add a video to a post you're editing."));}else w.setTitle(q._("Ung\u00fcltige Bilddatei")).setBody(q._("Bitte lade eine g\u00fcltige Bilddatei hoch."));w.show();return;}j.getAttachment(this.$ComposerXMediaUploadHandler0,s);g.inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXMediaUploadHandler0+'/videoupload',{fileInput:v},g.BEHAVIOR_PERSISTENT);};u.prototype.handlePhotoSelected=function(v){"use strict";j.getAttachment(this.$ComposerXMediaUploadHandler0,this.getPhotoUploadAttachmentEndpoint());u.$ComposerXMediaUploadHandler2(this.$ComposerXMediaUploadHandler0,v);};u.isVideoFile=function(v){"use strict";var w=p.getExtensionFromFileInput(v.getInput());return !!o.videoExtensions[w];};u.prototype.$ComposerXMediaUploadHandler3=function(){"use strict";return (this.$ComposerXMediaUploadHandler1)?this.$ComposerXMediaUploadHandler1.photoUploadOverrideEndpoint:null;};u.prototype.getPhotoUploadAttachmentEndpoint=function(){"use strict";var v=this.$ComposerXMediaUploadHandler3();return (v)?v:r;};u.$ComposerXMediaUploadHandler2=function(v,w){"use strict";g.inform('ComposerXFilesStore/filesAdded/'+v+'/mediaupload',{fileInput:w},g.BEHAVIOR_PERSISTENT);};u.setupFileUploadToComposerDialog=function(v,w,x){"use strict";var y='composerxmediauploadhandler'+t++,z=function(ca){k.conditionClass(v.getControl(),x,ca);v.getInput().disabled=ca;},aa=new n(w),ba=aa.getQueryData();ba.client_ref=y;aa.setQueryData(ba);w=aa.toString();v.subscribe('change',function(){new h().setURI(w).setErrorHandler(function(){v.clear();z(false);}).send();z(true);});g.subscribe('composer/dialog/'+y+'/new',function(ca,da){this.$ComposerXMediaUploadHandler2(da.composerID,v);var ea=new m();ea.addSubscriptions(g.subscribe('composer/publish',function(event,fa){if(da.composerID===fa.composer_id)a.location.reload();}),da.dialog.subscribe('hide',function(){ea.release();v.clear();z(false);}));}.bind(this));};e.exports=u;},null);
__d("KeyboardShortcuts",["KeyEventController","Layer","ModalLayer"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l,m,n){"use strict";this.key=l;this.handler=m;this.filter=n;this.register();}j.prototype.register=function(){"use strict";this.token=g.registerKey(this.key,this.handler,this.filter);};j.prototype.remove=function(){"use strict";this.token.remove();};var k={_tokens:[[]],register:function(l,m,n){n=n||{};var o=n.allowDefault?m:function(event,s){m.apply(this,arguments);event.prevent();},p=n.baseFilters||[g.defaultFilter],q=function(event,s){for(var t=0,u=p.length;t<u;t++)if(!p[t](event,s))return false;return !n.filter||n.filter(event,s);},r=new j(l,o,q);this._tokens[this._tokens.length-1].push(r);return r;},init:function(){h.subscribe('show',function(l,m){if(m.hasBehavior(i))this.pushLayer();}.bind(this));h.subscribe('hide',function(l,m){if(m.hasBehavior(i))this.popLayer();}.bind(this));},pushLayer:function(){var l=this._tokens[this._tokens.length-1];l&&l.forEach(function(m){m.remove();});this._tokens.push([]);},popLayer:function(){var l=this._tokens.length-1;if(l<0)return;var m=this._tokens[l];m.forEach(function(o){o.remove();});this._tokens.pop();var n=this._tokens[l-1];n&&n.forEach(function(o){o.register();});}};k.init();e.exports=k;},null);
__d("LikeConfirmer",["AsyncDialog","AsyncRequest"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=false,j=false,k={likeContent:function(){},like:function(l,m){this.likeContent=l;if(j)return;if(i){this.likeContent();}else{var n=new h().setURI('/like/confirm_like.php').setRelativeTo(m);g.send(n,function(o){j=true;o.subscribe('hide',this.onCloseLikeConfirmDialog.bind(this));o.setCausalElement(m);}.bind(this));}return false;},isShowingConfirmation:function(){return j;},onCloseLikeConfirmDialog:function(){j=false;},likeSkipConfirmation:function(l){i=l;this.likeContent();}};e.exports=k;},null);
__d("FeedBaseKeyboardController",["$","AccessibilityLogger","Arbiter","AsyncDialog","AsyncRequest","Banzai","BanzaiODS","BanzaiNectar","CSS","DOM","DOMScroll","DOMQuery","Event","Focus","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","ReactComposerEvents","ReactComposerIDGenerator","Run","Scroll","SubscriptionsHandler","UITinyViewportAction","Vector","ViewportBounds","csx","emptyFunction","ge","getActiveElement","isAsyncScrollQuery","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){b.__markCompiled&&b.__markCompiled();var ma;function na(){ma=da.isTiny()?0:g('pagelet_bluebar').offsetTop+g('pagelet_bluebar').offsetHeight;}setTimeout(na,0);s.listen(window,'resize',la(na));function oa(pa){"use strict";this.root=pa;this.init();}oa.prototype.getStories=function(){"use strict";};oa.prototype.getParentStory=function(pa){"use strict";};oa.prototype.isStory=function(pa){"use strict";};oa.prototype.isHoldoutStory=function(pa){"use strict";};oa.prototype.getHeadline=function(pa){"use strict";};oa.prototype.getPreviousStory=function(pa){"use strict";};oa.prototype.getNextStory=function(pa){"use strict";};oa.prototype.setSelected=function(pa,qa){"use strict";};oa.prototype.clickLike=function(){"use strict";};oa.prototype.clickComment=function(){"use strict";};oa.prototype.clickShare=function(){"use strict";};oa.prototype.clickSeeMore=function(){"use strict";};oa.prototype.clickLeft=function(){"use strict";};oa.prototype.clickRight=function(){"use strict";};oa.prototype.openAttachment=function(){"use strict";};oa.prototype.focusComposer=function(){"use strict";var pa=ia('pagelet_composer');if(!pa)pa=ia('pagelet_group_composer');if(pa){var qa=p.scry(pa,'textarea')[0];if(qa){t.set(qa);q.scrollToTop(true);}else{var ra=p.scry(pa,"div._36bx")[0],sa=ra&&ra.id;if(z.isComposerID(sa)){i.inform(y.FOCUS,{composerID:ra.id});q.scrollToTop(true);}}}};oa.prototype.getScrollOffset=function(){"use strict";return 10;};oa.prototype.getAnimationLength=function(pa){"use strict";return Math.min(Math.abs(ea.getElementPosition(pa).y-fa.getTop()-ba.getTop(document.body)),400);};oa.prototype.findTop=function(){"use strict";var pa=this.getStories();for(var qa=0;qa<pa.length;qa++)if(ea.getElementPosition(pa[qa]).y>ea.getScrollPosition().y)return pa[qa];};oa.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release();};oa.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new k('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};oa.prototype.init=function(){"use strict";aa.onLeave(this.onLeave.bind(this));this.subscriptions=new ca();this.subscriptions.addSubscriptions(i.subscribe(w.NAVIGATION_BEGIN,this.onLeave.bind(this)),u.register('j',this.vert.bind(this,1)),u.register('k',this.vert.bind(this,-1)),u.register('l',function(){var pa=this.getParentStory(ja());v.like(function(){this.setSelected(pa,false);this.clickLike();}.bind(this),ja());}.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('p',this.focusComposer.bind(this)),u.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('SLASH',function(){var pa=this.getHelpDialogRequest();if(pa){pa.setRelativeTo(ja());j.send(pa);}}.bind(this),{filter:function(event,pa){return event.getModifiers().shift;}}),u.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),u.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),s.listen(this.root,'focusin',function(event){var pa=event.getTarget();if(!this.isStory(pa)){var qa=(pa.nodeName=='OBJECT'||pa.nodeName=='EMBED'||pa.nodeName=='IFRAME'),ra=this.getParentStory(pa),sa=this.selected;if(ra&&!qa&&sa){this.setSelected(ra,true);this.selected=ra;}}}.bind(this)));};oa.prototype.hasActiveStory=function(event,pa){"use strict";var qa=ja();return !(qa&&o.shown(qa))||!!this.getParentStory(qa);};oa.prototype.hasExpandableStoryInFocus=function(event,pa){"use strict";var qa=ja();return !!(qa.getElementsByClassName('text_exposed_root').length&&!qa.getElementsByClassName('text_exposed_root text_exposed').length);};oa.prototype.click=function(pa){"use strict";if(!this.selected)return;var qa;for(var ra=0,sa=arguments.length;ra<sa;ra++){qa=p.scry(this.selected,arguments[ra])[0];if(qa&&o.shown(qa)){qa.click();return;}}};oa.prototype.vert=function(pa){"use strict";if(!this.scrollInitialized){this.subscriptions.addSubscriptions(s.listen(document,'scroll',function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}.bind(this)));this.scrollInitialized=true;}var qa,ra;if(this.selected){if(l.isEnabled('kbshortcuts_feed')){ra=pa>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';m.bumpEntityKey('kbshortcuts_feed',ra);n.log('feed_scroll',ra,{});}h.logJKKey();if(this.selected.id=='pagelet_composer'){qa=pa>0?this.getStories()[0]:null;if(this.isHoldoutStory(qa))qa=this.getPreviousStory(qa);}else if(pa===0){qa=this.selected;}else qa=pa>0?this.getNextStory(this.selected):(this.getPreviousStory(this.selected)||ia('pagelet_composer'));if(!qa){return;}else if(!r.isElementNode(qa)){o.removeClass(this.selected,'selectedStorySimple');this.selected=qa;return this.vert(pa);}}if(!qa||x.byClass(qa,'hidden_elem')||!p.contains(document,qa)){qa=this.findTop();if(qa&&pa<0)qa=this.getPreviousStory(qa);if(this.isHoldoutStory(qa))qa=this.getPreviousStory(qa);}if(!qa)return;this.anim&&this.anim.stop();var sa=(Date.now()-(this.lastScroll||0)>30);if(pa!==0)var ta=this.setFocused.bind(this,qa);if(ka()){sa=false;ta();ta=ha;}this.scrolling=true;this.scrollingTimer&&window.clearTimeout(this.scrollingTimer);this.anim=q.scrollTo(qa,sa?this.getAnimationLength(qa):0,false,ea.getViewportDimensions().y-ma-this.getScrollOffset(),0,function(){this.scrollingTimer=window.setTimeout(function(){this.scrolling=false;}.bind(this),300);var ua=ea.getScrollPosition();ta();if(ua.distanceTo(ea.getScrollPosition())!==0)q.scrollTo(ua,0);}.bind(this));this.setSelected(qa,true);this.lastScroll=Date.now();};oa.prototype.isInteractive=function(pa){"use strict";return ((pa.nodeName=='INPUT')||(pa.nodeName=='BUTTON')||(pa.nodeName=='TEXTAREA')||(pa.nodeName=='A')||!!x.byAttribute(pa,'contenteditable'));};oa.prototype.setTabindexOnHeadline=function(pa,qa){"use strict";if(this.isStory(pa)){var ra=this.getHeadline(pa);if(ra)ra.tabIndex=qa;}};oa.prototype.setTabindexOnStory=function(pa,qa){"use strict";if(this.isStory(pa))pa.tabIndex=qa;};oa.prototype.setFocused=function(pa){"use strict";if(this.isStory(pa))t.setWithoutOutline(pa);};e.exports=oa;},null);
__d("DOMClone",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={shallowClone:function(i){return h(i,false);},deepClone:function(i){return h(i,true);}};function h(i,j){var k=i.cloneNode(j);if(typeof k.__FB_TOKEN!=='undefined')delete k.__FB_TOKEN;return k;}e.exports=g;},null);
__d("FileInput",["ArbiterMixin","DOM","DOMClone","Event","Focus","Keys","UserAgent_DEPRECATED","cx","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=m.ie(),q=o(g);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w){"use strict";this.container=u;this.control=v;var x=h.scry(this.container,'a')[0];x&&x.removeAttribute('href');var y=h.create('div',{className:"_3jk"},w);h.appendContent(this.control,y);this._boundHandleChange=this._handleChange.bind(this);if(p)this._boundHandleIEKeyDown=this._handleIEKeyDown.bind(this);this._setInputElement(w);}t.prototype.getValue=function(){"use strict";return this.input.value;};t.prototype.getInput=function(){"use strict";return this.input;};t.prototype.getContainer=function(){"use strict";return this.container;};t.prototype.getControl=function(){"use strict";return this.control;};t.prototype.clear=function(){"use strict";if(p){var u=i.deepClone(this.input);h.replace(this.input,u);this._setInputElement(u);}else this.input.value='';};t.prototype.destroy=function(){"use strict";this._listener.remove();this._listener=null;if(p){this._IEKeyDownListener.remove();this._IEKeyDownListener=null;}this.container=null;this.control=null;this.input=null;};t.prototype._setInputElement=function(u){"use strict";this.input=u;k.relocate(u,this.control);this._listener&&this._listener.remove();this._listener=j.listen(u,'change',this._boundHandleChange);if(p){this._IEKeyDownListener&&this._IEKeyDownListener.remove();this._IEKeyDownListener=j.listen(u,'keydown',this._boundHandleIEKeyDown);}};t.prototype._handleChange=function(event){"use strict";this.inform('change',event);var u=this.input.form;if(u&&p<9)j.fire(u,'change',event);};t.prototype._handleIEKeyDown=function(event){"use strict";if(event.keyCode===l.RETURN){event.preventDefault();var u=document.createEvent('MouseEvents');u.initEvent('click',true,true);this.input.dispatchEvent(u);}};e.exports=t;},null);
__d("PhotosUploadID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=1024,h={getNewID:function(){return (g++).toString();}};e.exports=h;},null);
__d("FbFeedKeyboardController",["CSS","DOM","DOMQuery","FeedBaseKeyboardController","Focus","JSXDOM","Parent","FbFeedHighlight","csx","cx","ge","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();function s(x){if(x.previousElementSibling)return x.previousElementSibling;x=x.previousSibling;while(x&&!i.isElementNode(x))x=x.previousSibling;return x||null;}function t(x){if(x.nextElementSibling)return x.nextElementSibling;x=x.nextSibling;while(x&&!i.isElementNode(x))x=x.nextSibling;return x||null;}for(var u in j)if(j.hasOwnProperty(u))w[u]=j[u];var v=j===null?null:j.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=j;function w(){"use strict";if(j!==null)j.apply(this,arguments);}w.prototype.getStories=function(x){"use strict";return i.scry(x||this.root,"._5jmm");};w.prototype.isHoldoutStory=function(x){"use strict";return !!x&&g.hasClass(x,'holdoutAdStory');};w.prototype.isRelevantStory=function(x){"use strict";return i.isElementNode(x)&&!this.isHoldoutStory(x);};w.prototype.isStory=function(x){"use strict";return g.hasClass(x,"_5jmm");};w.prototype.clickLike=function(){"use strict";this.click('.UFILikeLink');var x=this.getParentStory(r());if(x){var y=i.scry(x,'.UFILikeLink');for(var z=0;z<y.length;z++)if(!g.hasClass(y[z],'accessible_elem'))k.setWithoutOutline(y[z]);}};w.prototype.clickComment=function(){"use strict";this.click('.comment_link');};w.prototype.clickShare=function(){"use strict";this.click('.share_action_link');};w.prototype.clickSeeMore=function(){"use strict";this.click('.see_more_link');};w.prototype.clickLeft=function(){"use strict";this.click("._1mri");};w.prototype.clickRight=function(){"use strict";this.click("._2fu-");};w.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};w.prototype.getHeadline=function(x){"use strict";return i.scry(x,"h5._5pbw")[0];};w.prototype.getPreviousSibling=function(x){"use strict";var y=s(x);if(y&&this.getParentStory(y))return y;y=null;var z=m.byClass(x,"_5pcb");if(z){var aa=i.scry(this.root,"._5jmm"),ba=aa.indexOf(x);while(ba>-1){if(ba===0){y=q('pagelet_composer');y=y&&m.byClass(y,"_5jmm");}else if(ba>0){y=aa[ba-1];if(y.offsetHeight>0)break;}ba--;}}return y||this.selected;};w.prototype.getPreviousStory=function(x){"use strict";var y=this.getPreviousSibling(x);while(y&&!this.isStory(y))y=this.getPreviousSibling(y);return y;};w.prototype.getParentStory=function(x){"use strict";return m.byClass(x,"_5jmm");};w.prototype.getNextSibling=function(x){"use strict";var y=t(x);if(y&&this.getParentStory(y))return y;y=null;var z=m.byClass(x,"_5pcb");if(z){var aa=i.scry(this.root,"._5jmm"),ba=aa.indexOf(x);if(ba>-1){y=aa[++ba];while(y&&y.offsetHeight===0)y=aa[++ba];}}else if(q('pagelet_composer',x))y=i.scry(document,"div._5pcb ._5jmm")[0];return y||this.selected;};w.prototype.getNextStory=function(x){"use strict";var y=this.getNextSibling(x);while(y&&!this.isStory(y))y=this.getNextSibling(y);return y;};w.prototype.setSelected=function(x,y){"use strict";if(x){var z="_5qdu",aa=i.scry(x,"._5qdu");if(!aa.length&&y)h.prependContent(x,l.div({className:z}));}if(y){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&g.removeClass(this.selected,"_5qdv");this.selected=x;x&&this.setTabindexOnStory(x,'0');x&&g.addClass(x,"_5qdv");n.highlightSingle(x);}};w.init=function(x){"use strict";new w(x);};e.exports=w;},null);